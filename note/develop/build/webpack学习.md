## å¼€å‘æ¨¡å¼

### é¢å‘è¿‡ç¨‹å¼€å‘

```markdown
# ç¼ºç‚¹
å¼€å‘ä»£ç å¾ˆå®šä¹‰å’Œè°ƒç”¨å‚æ‚åœ¨äº†ä¸€èµ·ï¼Œä¸åˆ©äºå¼€å‘äººå‘˜ç»´æŠ¤
# éœ€æ±‚
å°†ä»£ç çš„å®ç°å’Œè°ƒç”¨åˆ†ç¦»å¼€æ¥
# è§£å†³
é¢å‘å¯¹è±¡å¼€å‘
```

### é¢å‘å¯¹è±¡å¼€å‘

```markdown
# ç¼ºç‚¹
1. é¡µé¢å‘é€è¯·æ±‚å˜å¤šäº†ï¼Œé¡µé¢åŠ è½½é€Ÿåº¦å°±ä¼šå˜æ…¢
2. ä¸»æ–‡ä»¶ä¸­è°ƒç”¨å„APIå¹¶ä¸çŸ¥é“å®ƒä»¬éƒ½æ˜¯ä»å“ªä¸ªæ–‡ä»¶æ¥çš„ï¼Œé™ä½äº†å¼€å‘å¯»æ‰¾æ–‡ä»¶çš„æ•ˆç‡
3. å¾ˆéš¾æŸ¥æ‰¾é”™è¯¯ï¼Œæ”¹åŠ¨å¼•å…¥jsçš„é¡ºåºæŠ¥é”™ä¹Ÿä¸çŸ¥é“å…·ä½“å“ªä¸ªæ–‡ä»¶å‡ºé”™
# éœ€æ±‚
1.ä¾æ—§å¼•å…¥ä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œä¸å¢åŠ å¤šä½™çš„æ–‡ä»¶é€ æˆè¿‡å¤šçš„è¯·æ±‚
2.å½“index.jsä¸­éœ€è¦ç”¨åˆ°ä»€ä¹ˆAPIï¼Œè‡ªå·±åœ¨æ–‡ä»¶ä¸­å¼•å…¥ç›¸åº”APIå»è°ƒç”¨
3.æ–‡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»è¦å˜å¾—æ˜ç¡®ï¼Œæ—¢èƒ½å¤Ÿç›´åˆ°è°ƒç”¨ä¸å®šä¹‰æ–‡ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼ŒåŒæ—¶ä¹Ÿè¦ä¿è¯ä¸ä¼šå› ä¸ºå¼•å…¥APIé¡ºåºä¸åŒè€Œå¯¼è‡´è°ƒç”¨APIå‡ºé”™
# è§£å†³
æ¨¡å—åŒ–å¼€å‘
```

### æ¨¡å—åŒ–å¼€å‘

```markdown
# ç¼ºç‚¹
æµè§ˆå™¨é»˜è®¤æ²¡æ³•æ‰§è¡Œimportè¿™æ ·çš„ä»£ç ï¼Œæ§åˆ¶å°æŠ¥é”™
# éœ€æ±‚
æƒ³è¦æ–¹ä¾¿äººå‘˜å¼€å‘æŒ‰ç…§æƒ³è¦ä¹¦å†™çš„æ ¼å¼ä¹¦å†™çš„åŒæ—¶åˆèƒ½ä½¿æµè§ˆå™¨è·‘åŠ¨æˆ‘ä»¬ä¹¦å†™çš„importè¿™æ ·å­çš„ä»£ç 
# è§£å†³
Webpack
```

## Webpack

### ç¯å¢ƒæ­é…

```markdown
# Webpackä½¿ç”¨å‰æï¼šå®‰è£…Nodeï¼ˆå¿…é¡»ï¼Œæœ€å¥½æ˜¯æœ€æ–°çš„ï¼Œå¯¹webapckæ›´å‹å¥½ï¼‰å’ŒNPM
# å»ºç«‹ä¸€ä¸ªwebpackæ–‡ä»¶å¤¹
# è¿›å…¥æ–‡ä»¶å¤¹å¹¶åœ¨æ§åˆ¶å°è¾“å…¥npm initåˆ›å»ºNodeåŒ…æ–‡ä»¶ï¼ˆnpmæ˜¯nodeåŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬ä»¥nodeè§„èŒƒçš„å½¢å¼åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¦æƒ³ä½¿ç”¨webpackç®¡ç†é¡¹ç›®å°±è¦ç¬¦åˆnodeè§„èŒƒï¼Œä½¿ç”¨npm inité¡¹ç›®å°±å¯ä»¥ç¬¦åˆnodeè§„èŒƒï¼‰
# å®‰è£…webpack
å…¨å±€å®‰è£…ï¼šnpm install webpack webpack-cli -gï¼ˆå…¨éƒ¨é¡¹ç›®çš„webpackç‰ˆæœ¬å›ºå®šï¼Œä¸æ¨èï¼‰
å±€éƒ¨å®‰è£…ï¼šnpm install webpack webpack-cli -Dï¼ˆå„é¡¹ç›®æ‹¥æœ‰è‡ªå·±çš„webpackç‰ˆæœ¬ï¼Œæ¨èï¼‰
å±€éƒ¨æŒ‡å®šç‰ˆæœ¬ï¼šnpm install webpack@ç‰ˆæœ¬å· -D
# å±€éƒ¨å®‰è£…æŸ¥çœ‹webpackç‰ˆæœ¬:npx webpack -v   
```

### é¡¹ç›®ç»“æ„

```markdown
# ä½¿ç”¨webpack.config.jsé…ç½®æ–‡ä»¶é…ç½®webpack
# ä½¿ç”¨srcæ–‡ä»¶å¤¹è£…å…¥é¡¹ç›®æºä»£ç ï¼ˆå› ä¸ºè¿™äº›ä»£ç å®é™…åœ¨æµè§ˆå™¨è¿è¡Œä¸èµ·æ¥ï¼Œéœ€è¦webpackæ‰“åŒ…è½¬æ¢æˆæµè§ˆå™¨å¯æ‰§è¡Œçš„ä»£ç ï¼‰
# ä¿®æ”¹package.jsonçš„scipté€‰é¡¹ï¼Œä½¿å¾—èƒ½é€šè¿‡npm run bundleä»£æ›¿npx webpack å»æ‰“åŒ…æ–‡ä»¶
# æ‰“åŒ…å‡ºæ¥çš„distå°±æ˜¯æœ€åæ‰§è¡Œåœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œçš„ä»£ç æ‰€åœ¨çš„æ–‡ä»¶å¤¹
# webpack-cliè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä½¿ç”¨npx webpackå‘½ä»¤æˆ–è€…webpackå‘½ä»¤
```

### æ‰“åŒ…è¾“å‡ºå†…å®¹

```powershell
$ npx webpack # å¯ç”¨webpackæ‰“åŒ…
Hash: 0e289339706495073943  # æœ¬æ¬¡æ‰“åŒ…ç”Ÿæˆçš„å”¯ä¸€å“ˆå¸Œå€¼
Version: webpack 4.43.0 # æ‰“åŒ…æ‰€ä½¿ç”¨çš„webpackç‰ˆæœ¬
Time: 749ms # æ‰“åŒ…è€—æ—¶
Built at: 2020-05-17 20:47:53 # æ‰“åŒ…çš„æ—¶é—´
 Asset        Size         Chunks       Chunk Names
bundle.js   1.24 KiB     0 [emitted]        main 
# bundle.jså°±æ˜¯æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶
# mainå°±æ˜¯entryä¸­å†™çš„æ‰“åŒ…å…¥å£åå­—
Entrypoint main = bundle.js # æ‰“åŒ…çš„å…¥å£ç‚¹æ˜¯main å‡ºå£æ˜¯bundle.js
[0] ./src/index.js + 3 modules 1.37 KiB {0} [built] # æ‰“åŒ…index.jsï¼Œé‡Œå¤´ç”¨åˆ°äº†3ä¸ªmoduleæ¨¡å— 
    | ./src/index.js 338 bytes [built] # æ‰“åŒ…index.js
    | ./src/header.js 351 bytes [built] # index.jsé‡Œå¤´ç”¨åˆ°äº†æ¨¡å—header
    | ./src/content.js 358 bytes [built]# index.jsé‡Œå¤´ç”¨åˆ°äº†æ¨¡å—content
    | ./src/footer.js 351 bytes [built] # index.jsé‡Œå¤´ç”¨åˆ°äº†æ¨¡å—footer

WARNING in configuration # è­¦å‘Šæ˜¯å› ä¸ºwebpacké…ç½®ä¸­æ²¡æœ‰é…ç½®mode
# ä½¿ç”¨mode="development"æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä»£ç ä¸å‹ç¼©
# ä½¿ç”¨mode="production"æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä»£ç å‹ç¼©
The 'mode' option has not been set, webpack will fallback to 'production' for this value. Set 'mode' option to 'development' or 'production' to enable defaults for each environment.
You can also set it to 'none' to disable any default behavior. Learn more: https://webpack.js.org/configuration/mode/

```

### Loader

```markdown
# ä¸ºä»€ä¹ˆéœ€è¦Loaderï¼Ÿ
å› ä¸ºwebpacké»˜è®¤åªèƒ½æ‰§è¡ŒJSæ–‡ä»¶çš„æ‰“åŒ…ï¼Œå¯¹äºå…¶ä»–ç±»å‹çš„æ–‡ä»¶Webpackæ˜¯æ²¡æ³•æ‰§è¡Œçš„ï¼Œæ‰€ä»¥éœ€è¦Loaderæ¥å¸®å¿™æ‰§è¡Œå…¶ä»–ç±»å‹æ–‡ä»¶çš„æ‰“åŒ…ã€‚
```

```markdown
# Loaderçš„æ‰§è¡Œè¿‡ç¨‹
1.è¾“å…¥npm run bundleçš„æ—¶å€™ï¼Œé¦–å…ˆåº•å±‚æ˜¯è·‘åˆ°package.jsonä¸­çš„scriptä¸­æ‰¾bundleå¯¹åº”çš„webpackå‘½ä»¤
2.webpackå¼€å§‹è¿›å…¥ä¸»å…¥å£æ–‡ä»¶index.jsä¸­è¿›è¡Œæ‰“åŒ…ï¼Œç¢°åˆ°jsæ–‡ä»¶ç›´æ¥æ‰“åŒ…
3.å½“åœ¨index.jsä¸­é‡åˆ°éjsæ¨¡å—æ—¶ï¼Œwebpackå°±æ²¡æ³•æ‰§è¡Œäº†
4.webpackä¼šå»é…ç½®æ–‡ä»¶é‡Œæ‰¾ç›¸åº”çš„æ¨¡å—moduleè§„åˆ™rulesï¼Œåœ¨rulesä¸­å¯»æ‰¾å¯¹åº”ç±»å‹æ–‡ä»¶ï¼Œæœ€åæ‰¾åˆ°è¯¥æ–‡ä»¶ä½¿ç”¨çš„loaderï¼Œä»è€Œè®©loaderå»å¸®å¿™æ‰“åŒ…è¯¥ç±»å‹çš„æ–‡ä»¶ã€‚
```

#### æ‰“åŒ…å›¾ç‰‡çš„loader

##### file-loader

```markdown
# å·¥ä½œåŸç†
å°†å¼•å…¥çš„æ–‡ä»¶æ¨¡å—ç§»åŠ¨åˆ°distæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶æŠŠdistæ–‡ä»¶å¤¹ä¸‹çš„è¯¥æ–‡ä»¶çš„åå­—è¿”å›ç»™srcæ²¡æ‰“åŒ…å‰å¼•ç”¨è¯¥æ–‡ä»¶çš„åœ°æ–¹ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶çš„åœ°æ–¹å°±å¯ä»¥è·å–åˆ°è¯¥æ–‡ä»¶åœ¨distæ–‡ä»¶å¤¹ä¸‹çš„åå­—ã€‚
```

```markdown
# é€‚åˆåœºæ™¯
file-loaderæ‰“åŒ…åä¼šå°†å›¾ç‰‡å•ç‹¬æ‰“åŒ…å‡ºæ¥-é€‚åˆå¤§å›¾ç‰‡çš„æ‰“åŒ…
```

```powershell
# è¾“å‡ºå†…å®¹
$ npm run bundle
> webpack_demo01@1.0.0 bundle G:\ä¸ªäººç»ƒä¹ \ã€07ã€‘å·¥ç¨‹åŒ–\Webpack\webpack_demo01
> webpack
Hash: c6fd6fd1d090e9591a84
Version: webpack 4.43.0
Time: 659ms
Built at: 2020-05-17 21:39:32
              Asset                        Size            Chunks             Chunk Names
# ğŸ‘‡å›¾ç‰‡è¢«å•ç‹¬æ‰“åŒ…å‡ºæ¥äº†ï¼Œè·Ÿbundle.jsåˆ†ç¦»                
24435edd6a4e5106495ec3cbe489d288.jpg      131 KiB          [emitted]
      
            bundle.js                     7.69 KiB    main  [emitted]        main
Entrypoint main = bundle.js
[./src/avatar.jpg] 80 bytes {main} [built]
[./src/content.js] 358 bytes {main} [built]
[./src/footer.js] 351 bytes {main} [built]
[./src/header.js] 351 bytes {main} [built]
[./src/index.js] 478 bytes {main} [built]

```

##### url-loader

```markdown
# å·¥ä½œåŸç†
æ‰“åŒ…åç›´æ¥å°†å›¾ç‰‡è½¬æˆbase64å­—ç¬¦ä¸²çš„æ ¼å¼æ”¾å…¥bundle.jsä¸­
```

```markdown
# é€‚ç”¨åœºæ™¯
å¥½å¤„æ˜¯å‡å°‘äº†httpè¯·æ±‚ï¼Œåå¤„æ˜¯æ‰“åŒ…å‡ºæ¥çš„bundle.jsæ–‡ä»¶ä¼šç‰¹åˆ«å¤§ï¼ˆå¯ä»¥è¿›è¡Œlimitå¤§å°é…ç½®ï¼‰ï¼ŒåŠ è½½é¡µé¢å¾ˆå¯èƒ½å¾ˆé•¿æ—¶é—´éƒ½æ˜¾ç¤ºä¸å‡ºæ¥ä¸œè¥¿-é€‚åˆå°å›¾ç‰‡æ‰“åŒ…
```

```powershell
# åŸºæœ¬é…ç½®
use: {
                loader: 'url-loader',
                options: {
                    name: '[name].[ext]',  # æ‰“åŒ…å‡ºæ¥çš„å›¾ç‰‡åå­—æ˜¯åŸåï¼Œåç¼€æ˜¯åŸåç¼€
                    outputPath: 'images/', # å¦‚æœå›¾ç‰‡è¶…å‡º1024ä¼šæ‰“åŒ…å‡ºæ¥æ”¾åœ¨dist/imagesä¸‹
                    limit:1024 # å°äº1kbçš„å›¾ç‰‡å°±ä¼šæ‰“åŒ…æˆbase64åµŒå…¥åˆ°bundle.jsä¸­
                               # å¤§äºè¿™ä¸ª1kbçš„å›¾ç‰‡å°±ä¼šæŒ‰ç…§åŸå…ˆå•ç‹¬æ‰“åŒ…æˆæ–‡ä»¶çš„æ–¹å¼æ‰“åŒ…å‡ºæ¥
                              
                }
            },
```

```markdown
# æ‰“åŒ…å›¾ç‰‡é—®é¢˜
åœ¨æ‰“åŒ…å›¾ç‰‡çš„æ—¶å€™å¦‚æœindex.htmlæ²¡æœ‰æ”¾åœ¨distç›®å½•ä¸‹ï¼Œè€Œæ˜¯æ”¾åœ¨äº†publicç›®å½•ä¸‹ï¼Œwebpackå°±ç®—æ‰“åŒ…æˆäº†ï¼Œæµè§ˆå™¨ä¹Ÿä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°è¯¥å›¾ç‰‡æŠ¥é”™ï¼ŒåŸå› æš‚æ—¶ä¸çŸ¥é“æ˜¯å•¥ï¼Ÿ
```

#### æ‰“åŒ…æ ·å¼çš„loader

##### css-loader

```powershell
# æ— css-loaderï¼Œåªæœ‰ä¸€ä¸ªstyle-loaderçš„è¾“å‡ºç»“æœ
Hash: 4c0aa1da9209d8b47c35
Version: webpack 4.43.0
Time: 573ms
Built at: 2020-05-18 11:21:29
            Asset      Size  Chunks             Chunk Names
        bundle.js  16.8 KiB    main  [emitted]  main
images/avatar.jpg   131 KiB          [emitted]
Entrypoint main = bundle.js
[./src/avatar.jpg] 61 bytes {main} [built]
[./src/content.js] 358 bytes {main} [built]
[./src/footer.js] 351 bytes {main} [built]
[./src/header.js] 351 bytes {main} [built]
[./src/index.css?7a74] ./src/index.css 480 bytes {main} [built]
[./src/index.css?a766] ./src/index.css 279 bytes {main} [built] [failed] [1 error]
[./src/index.js] 500 bytes {main} [built]
    + 1 hidden module

ERROR in ./src/index.css 1:4
Module parse failed: Unexpected token (1:4) 
# è¡¨ç¤ºæ¨¡å—æ²¡æ³•è§£æï¼Œå†™çš„index.cssåœ¨index.jsä¸­importå‡ºæ¥æ²¡æ³•è¯†åˆ«ï¼Œæ‰€ä»¥css-loaderè¿˜å¤„ç†äº†cssæ–‡ä»¶çš„æ¨¡å—è¯†åˆ«
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
> img {
|     width: 150px;
|     height: 150px;
 @ ./src/index.css 2:26-50
 @ ./src/index.js

```

```markdown
# css-loaderçš„ä½œç”¨
1.å¸®åŠ©webpackè¯†åˆ«cssæ¨¡å—
2.åˆ†æå‡ ä¸ªcssæ–‡ä»¶ä¹‹é—´çš„å…³ç³»æœ€ååˆå¹¶æˆä¸€ä¸ªcssæ–‡ä»¶
```

##### style-loader

```markdown
# style-loaderçš„ä½œç”¨
å°†css-loaderåˆå¹¶å‡ºæ¥çš„cssæ–‡ä»¶ä¸­çš„å†…å®¹æŒ‚è½½åˆ°htmlä¸­çš„headé‡Œå¤´
```

##### sass-loader

```markdown
# ä½¿ç”¨åœºæ™¯
æ‰“åŒ…scssæ–‡ä»¶ï¼Œéœ€è¦åŒæ—¶å®‰è£…node-sass
npm install node-sass sass-loader -D
```

```markdown
# å·¥ä½œåŸç†
1.ç¢°åˆ°.scssæ–‡ä»¶ï¼Œä¼šä½¿ç”¨sass-loaderå»è¯†åˆ«ç¿»è¯‘æˆcss
2.ä½¿ç”¨css-loaderå†å»å¤„ç†è¯†åˆ«cssè¯­æ³•ï¼ŒåŒæ—¶åˆå¹¶å¤šä¸ªcssæ–‡ä»¶æˆä¸ºä¸€ä¸ªcssç‰‡æ®µ
3.ä½¿ç”¨style-loaderæœ€åå°†cssç‰‡æ®µæŒ‚è½½åˆ°htmlçš„styleä¸­
```

postcss-loader

```markdown
# åŠŸèƒ½
èƒ½å¤Ÿå°†CSS3çš„æ–°ç‰¹æ€§åœ¨æµè§ˆå™¨ä¸­æ·»åŠ ä¸Šå‚å•†å‰ç¼€
```

```markdown
# ä½¿ç”¨
1.é…ç½®è§„åˆ™ä¸­æ·»åŠ postcss-loaderï¼ˆéœ€è¦æå‰å®‰è£…postcss-loaderï¼‰
2.å•ç‹¬æ·»åŠ ä¸€ä¸ªpostcss.config.jsï¼Œå¹¶é…ç½®plugins:[require('autoprefixer')]ï¼ˆéœ€è¦å®‰è£…autoprefixeræ’ä»¶ï¼‰
```

```markdown
# å·¥ä½œåŸç†
1.å½“æ‰“åŒ…é‡åˆ°CSS3è¯­æ³•çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨postcss-loaderè¿›è¡Œå‚å•†å‰ç¼€æ·»åŠ 
2.postcss-loaderå°±æ¥åˆ°postcss.config.jsé…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°pluginï¼Œå¹¶æœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªå«åšautoprefixerçš„æ’ä»¶
3.postcss-loaderä¾¿ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªæ’ä»¶è¿›è¡Œå‚å•†å‰ç¼€æ·»åŠ 
```

```markdown
# æ¨¡å—åŒ–æ‰“åŒ…CSS
1.æ¦‚å¿µï¼šæŒ‡CSSæ ·å¼å†…å®¹åªåœ¨å½“å‰çš„æ–‡ä»¶æœ‰æ•ˆï¼Œä¸ä¼šé€ æˆå…¨å±€æ±¡æŸ“
2.é…ç½®ï¼šå°†css-loaderå¢åŠ ä¸€ä¸ªoptionsé€‰é¡¹ï¼Œé‡Œå¤´å†™ä¸Šmodules:trueæ”¯æŒæ¨¡å—åŒ–css
```

```markdown
# ä¸åšé…ç½®ç›´æ¥ä½¿ç”¨@importè¯­æ³•æ—¶ä¼šæŠ¥é”™

```

#### æ‰“åŒ…å­—ä½“çš„loader

```markdown
# å­—ä½“å›¾æ ‡æ‰“åŒ…æµç¨‹
1.ä¸‹è½½ç›¸åº”çš„å­—ä½“å›¾æ ‡ï¼Œå¹¶è¿›å…¥å¯¹åº”çš„cssæ–‡ä»¶ä¸­ä¿®æ”¹å­—ä½“å›¾æ ‡å­˜æ”¾è·¯å¾„
2.ä¸‹è½½file-loaderï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶æ–°å¢ä¸€æ¡å¤„ç†å­—ä½“çš„ruleï¼Œä½¿ç”¨çš„loaderå°±æ˜¯file-loader
3.å¦‚æœä¹‹å‰é…ç½®è¿‡css-loaderçš„modulesï¼štrueæ¨¡å—åŒ–cssï¼Œéœ€è¦å»æ‰ï¼Œè¿™æ ·åœ¨index.jsä¸­å¼•å…¥æ‰ä¼šç”Ÿæ•ˆ
```

### æ’ä»¶

#### HTMLWebpackPlugin

```markdown
# ä½¿ç”¨æ–¹å¼
1.é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ï¼šconst HTMLWebpackPlugin = require('html-webpack-plugin')
2.Pluginsä¸­æ·»åŠ ï¼šPlugins:[new HTMLWebpackPlugin()]
3.å†ç»™æ’ä»¶HTMLWebpackPluginæ·»åŠ é€‰é¡¹ï¼Œå¦‚æ·»åŠ ç”Ÿæˆçš„index.htmlæ¨¡æ¿ï¼Œnew HTMLWebpackPlugin({template:'scr/index.html'})
```

```markdown
# å·¥ä½œåŸç†
1.webpacké¦–å…ˆæ‰“åŒ…å„æ¨¡å—
2.åœ¨webpackæ‰“åŒ…è¿‡åï¼Œæ’ä»¶HTMLWebpackPluginæ ¹æ®ä¼ å…¥çš„å‚æ•°æ¨¡æ¿ç”Ÿæˆä¸€ä¸ªindex.html
3.æ¥ç€HTMLWebpackPluginè‡ªåŠ¨æŠŠæ‰“åŒ…å®Œæˆçš„jsæ–‡ä»¶é€šè¿‡ä¹‹å‰scriptæ ‡ç­¾çš„å½¢å¼å¼•å…¥index.htmlä¸­
```

CleanWebpackPlugin

```markdown
# ä½¿ç”¨æ–¹å¼
1.é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ï¼šconst {CleanWebpackPlugin} = require('clean-webpack-plugin')
2.Pluginsä¸­æ·»åŠ ï¼šPlugins:[new CleanWebpackPlugin()]
```

```markdown
# å·¥ä½œåŸç†
1.åœ¨webpackæ‰“åŒ…æ¨¡å—ä¹‹å‰å»æ¸…ç†æ‰åŸæ¥çš„distæ–‡ä»¶å¤¹
2.ç„¶åwebpackæ‰æ‰“åŒ…
3.æœ€åæ‰“åŒ…å®Œæˆåå†ç”±HTMLWebpackPluginç™»åœºå»ç”Ÿæˆindex.htmlå¹¶å¼•å…¥jsæ–‡ä»¶
```

### Entryä¸Output

```powershell
 # ç¬¬ä¸€ç§æƒ…å†µ
 entry: "./src/index.js", # é»˜è®¤è¿™ä¹ˆå†™çš„è¯ï¼Œå¦‚æœoutputä¸­ä¸å»é…ç½®è¾“å‡ºæ–‡ä»¶åå­—filenameï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯main
 # é»˜è®¤çš„entryå†™æ³•ç­‰ä»·äºentry:{main:"./src/index.js"}ï¼Œæ„æ€æ˜¯å‡å¦‚outputä¸é…ç½®filenameï¼Œå°±ç”¨entryä¸­çš„mainè¿™ä¸ªkeyä½œä¸ºæ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶å
 output: { # outputä¸­ç¡®å®æ²¡æœ‰é…ç½®è¾“å‡ºçš„æ–‡ä»¶åfilenameï¼Œæ‰€ä»¥æœ€ç»ˆdistä¸­ç”Ÿæˆçš„æ˜¯main.js
        path: path.resolve(__dirname, 'dist')
 },
```

```powershell
 # ç¬¬äºŒç§æƒ…å†µ
 entry: "./src/index.js",
 output: {
       filename:'bundle.js' # é…ç½®äº†filenameï¼Œäºæ˜¯ä¸ä¼šä½¿ç”¨entryé»˜è®¤ç»™çš„mainä½œä¸ºè¾“å‡ºæ–‡ä»¶å
        path: path.resolve(__dirname, 'dist')
 },
```

```powershell
 # ç¬¬ä¸‰ç§æƒ…å†µ
 entry: {# æ„æ€æ˜¯æƒ³è¦æ‰“åŒ…ä¸¤æ¬¡ï¼ŒæœŸæœ›æ‰“åŒ…ç»“æœæ˜¯ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶
   main: './src/index.js',
   sub: './src/index.js'
 },
 é—®é¢˜ï¼šoutput: {
       filename:'bundle.js' # ç»“æœæ˜¯ä¸¤ä¸ªæ‰“åŒ…å…¥å£åŒæ—¶è¾“å‡ºçš„æ–‡ä»¶åæ˜¯åŒä¸€ä¸ªï¼Œè¿™æ ·å­è¾“å‡ºä¼šæŠ¥é”™ï¼Œä¸èƒ½è¿™ä¹ˆåš
        path: path.resolve(__dirname, 'dist')
 },
 è§£å†³1ï¼šoutput:{
       filename: '[name].js',# ä½¿ç”¨å ä½ç¬¦è¯­æ³•ï¼Œè®©æ‰“åŒ…çš„æ–‡ä»¶åæ˜¯ä»€ä¹ˆï¼Œè¾“å‡ºçš„æ–‡ä»¶åå°±æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™
       path: path.resolve(__dirname, 'dist')
 }
 è§£å†³2ï¼šoutput:{ # ç›´æ¥ä¸å†™filenameï¼Œé‚£ä¹ˆé»˜è®¤å°±å¯ä»¥ä½¿ç”¨æ‰“åŒ…æ–‡ä»¶åæ¥ä½œä¸ºè¾“å‡ºæ–‡ä»¶åäº†ï¼Œæ•ˆæœåŒè§£å†³1ä¸€æ ·
       path: path.resolve(__dirname, 'dist')
 }
```

```powershell
# åœºæ™¯ï¼šæƒ³è¦æ‰“åŒ…åè‡ªåŠ¨ç”Ÿæˆcdnå‰ç¼€ï¼Œå¸Œæœ›éƒ¨ç½²åç›´æ¥å»è®¿é—®cdnè·å–èµ„æº
# åŸå¼•å…¥ï¼š<script src="main.js"></script>
# ç°å¼•å…¥ï¼š<script src="http://cdn.com/main.js"></script>
 entry: "./src/index.js",
 output: {
       publicPath:'http://cdn.com' # é…ç½®publicPathå°±å¯ä»¥
        path: path.resolve(__dirname, 'dist')
 },
```

### SourceMap

```markdown
# ä½œç”¨
ä½¿ç”¨SourceMapå¯ä»¥è®©æˆ‘ä»¬åœ¨ä»£ç å‡ºé”™çš„æ—¶å€™ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ–¹ä¾¿å®šä½åˆ°æºæ–‡ä»¶é‡Œå¤´ï¼Œè€Œä¸æ˜¯å®šä½åˆ°æ‰“åŒ…è¾“å‡ºçš„jsæ–‡ä»¶ä¸­
```

### WebpackDevServer

```markdown
# ä½œç”¨
æä¾›ç»™é¡¹ç›®ä¸€ä¸ªå¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ç¯å¢ƒï¼ŒåŒæ—¶å¯ä»¥çº¿ä¸Šæ›´æ–°æ‰“åŒ…å†…å®¹
```

```markdown
# å¼€å¯
1. é…ç½®ï¼šdevServer: {
        contentBase: './dist',
        open: true,
       }
2. æ·»åŠ ï¼š"dev":"webpack-dev-server"
3. å¯åŠ¨ï¼š npm run dev

```

```markdown
# HMR
1. ä½œç”¨ï¼šè®©è·‘åœ¨webpack-dev-serverä¸­çš„é¡¹ç›®èƒ½å¤Ÿå±€éƒ¨åˆ·æ–°ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ›´æ–°ä»£ç å°±å…¨ä½“ä¸€èµ·é‡æ–°è¯·æ±‚ä¸€æ¬¡æ–‡ä»¶åˆ·æ–°ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ•ˆæœå°±æ˜¯ç±»ä¼¼AjaxæŠ€æœ¯ä¸€æ ·çš„å±€éƒ¨åˆ·æ–°æ•ˆæœï¼Œå¦‚æœæˆ‘ä»¬è¾›è¾›è‹¦è‹¦å†™çš„ä»£ç ï¼Œå¤§éƒ¨åˆ†ä¸éœ€è¦æ”¹å˜ï¼Œç»“æœä¸€æ›´æ–°æ‰“åŒ…æ–‡ä»¶å°±å…¨ä½“åˆ·æ–°ï¼Œè¿™æ ·å­å°±å¾ˆå‘äº†ã€‚
2. å¼•å…¥ï¼š
const webpack = require('webpack');
Plugins:[new webpack.HotModuleReplacementPlugin()]
3. å¼€å¯ï¼š
   devServer: {
        contentBase: './dist',
        open: true,
        hot: true,
        hotOnly:true
   }
4. ä½¿ç”¨ï¼š
CSSä¸­ä½¿ç”¨ï¼šç›´æ¥æ”¹åŠ¨ä»£ç å³å¯ï¼Œcss-loaderå¸®æˆ‘ä»¬å†…ç½®äº†HMRçš„ä½¿ç”¨ä»£ç 
JSä¸­ä½¿ç”¨ï¼š
if(module.hot){
    module.hot.accept('./number',()=>{
       //è¿™é‡Œåšä¸€äº›å¤„ç†é€»è¾‘
    }) 
   }
```

ä»£ç å‘å¸ƒæ€è·¯ï¼šbundle.jsåªæ”¾è‡ªå·±å†™çš„ä»£ç ï¼Œå…¶ä»–ç¬¬ä¸‰æ–¹ä»£ç æŠ½ç¦»åˆ°å¦å¤–çš„.jsä¸­

```javascript
const webpack = require('webpack')
entry:{
    app: path.join(__dirname,'./src/main.js'),
     vendors:['jquery,'vue']//è¦æŠ½ç¦»çš„ç¬¬ä¸‰æ–¹åŒ…çš„åç§°å…¨éƒ¨æ”¾åœ¨è¿™ä¸ªæ•°ç»„å½“ä¸­
}
plugins:[
    new webpack.optimize.CommonsChunkPlugin({//è¦æŠ½ç¦»çš„å…¥å£åå­— 
        name: 'vendor',
        filename: 'js/vendor.js'//å‘å¸ƒçš„æ—¶å€™å°±ä¼šç”Ÿæˆä¸€ä¸ªjsç›®å½•ï¼Œé‡Œå¤´è¿™ä¸ªvendor.jsçš„æ–‡ä»¶ï¼Œå­˜æ”¾çš„å°±æ˜¯æ‰€æœ‰ç¬¬ä¸‰æ–¹ä»£ç 
    })
]
```

 webpackä»£ç å‹ç¼©

```javascript
new webpack.optimize.UglifyJsPlugin({
    compress: {//é…ç½®å‹ç¼©é¡¹
        warnings: false //ç§»é™¤è­¦å‘Š
    }
})
new webpack.optimize.DedupePlugin({
  //è®¾ç½®äº§å“çº¿ä¸Šç¯å¢ƒè¿›ä¸€æ­¥å‹ç¼©ä»£ç 
    'process.env.NODE_ENV': '"production"'
})
new htmlWebpackPlugin({
    minify: {
        collapseWhitespace: true //åˆå¹¶å¤šä½™çš„ç©ºæ ¼
        removeComments: true //ç§»é™¤æ³¨é‡Š
        removeAttributeQuotes: true //ç§»é™¤å±æ€§ä¸Šçš„åŒå¼•å·
    }
})
```
